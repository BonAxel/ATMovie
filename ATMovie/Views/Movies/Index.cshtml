@model IEnumerable<ATMovie.Models.Movie>

@{
    ViewData["Title"] = "Index";
}

<h1 style="margin-bottom: 30px;">Movies</h1>


@foreach (var genreGroup in Model.GroupBy(m => m.Genre))
{
    <h2 style="margin: 0;">@genreGroup.Key</h2>

    <table class="table text-white">
        <thead>
            <tr class="custom-background mt-5">
                <th>

                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Genre)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Runtime)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Price)
                </th>
               
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in genreGroup)
            {
                <tr>
                    <td>
                        <img src="@item.MovieImage" alt="Movie Image" style="width: 150px; height: 200px;" />
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Title)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Genre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Runtime)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Price)
                    </td>
                    <td>
                        <a asp-action="Details" class="text-white" asp-route-id="@item.MovieID">Details</a>
                    </td>
                </tr>
            }
                
            
        </tbody>
    </table>
}